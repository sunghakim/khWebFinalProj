<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="AccountMapper">
  <select id="selectLoginAccount" parameterType="account" resultType="account">
    SELECT * FROM ACCOUNT WHERE ACCOUNT_ID = #{account_id}
  </select>
  <select id="selectSameAccount" parameterType="account" resultType="account">
    SELECT * FROM ACCOUNT WHERE PHONE = #{phone} AND NAME = #{name}
  </select>
  <select id="selectListAccount" resultType="ArrayList">
    SELECT * FROM ACCOUNT
  </select>
  <insert id="insertWebUserAccount" parameterType="account">
    INSERT INTO ACCOUNT VALUES(#{account_id}, #{password}, #{user_type}, #{name}, #{phone}, #{email}, #{address}, #{nickname}, SYSDATE)
  </insert>
  <update id="updateAccountInfo" parameterType="account">
    UPDATE ACCOUNT
    <trim prefix="SET" prefixOverrides=",">
    	<if test="password != null">
    		, PASSWORD = #{password} 
    	</if>
    	<if test="phone != null">
    		, PHONE = #{phone} 
    	</if>
    	<if test="email != null">
    		, EMAIL = #{email}
    	</if>
    	<if test="address != null">
    		, ADDRESS = #{address}
    	</if>
    	<if test="nickname != null">
    		, NICKNAME = #{nickname}
    	</if>
    </trim>
    WHERE ACCOUNT_ID = #{account_id}
  </update>
  <delete id="deleteAccount" parameterType="account">
    DELETE FROM ACCOUNT WHERE ACCOUNT_ID = #{account_id}
  </delete>
</mapper>