<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="AccountMapper">
	<resultMap id="AccountDTOMap" type="AccountDTO">
		<result property="ID" column="ACCOUNT_ID"/>
		<result property="Password" column="PASSWORD"/>
		<result property="Nickname" column="NICKNAME"/>
		<result property="UserType" column="USER_TYPE"/>
		<result property="Email" column="EMAIL"/>
		<result property="JoinDate" column="JOIN_DATE"/>
	</resultMap>
	
	<select id="findAccount" parameterType="String" resultType="AccountDTO" resultMap="AccountDTOMap">
		SELECT * FROM ACCOUNT WHERE ID = #{ID}
	</select>
	
	<select id="selectAllAccounts" resultType="AccountDTO" resultMap="AccountDTOMap">
		SELECT * FROM ACCOUNT;
	</select>

	<insert id="punish" parameterType="AccountDTO">
		INSERT INTO PUNISH VALUES(PUNISH_SEQ, #{ID}, SYSDATE, #{punishDay})
	</insert>
	
	<delete id="cancle" parameterType="AccountDTO">
		DELETE FROM PUNISH WHERE ID = #{ID}
	</delete>
		
	<delete id="deleteAccount" parameterType="String">
		DELETE FROM ACCOUNTS WHERE ID = #{ID}
	</delete>

</mapper>